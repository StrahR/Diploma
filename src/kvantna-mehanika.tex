\section{Kvantna mehanika in kvantno raÄunalniÅ¡tvo}
% TODO: also cite selinger-qpl and ramÅ¡ak-qm
Ta del je povzet po \cite{ess-qc}.
Vsebuje osnovne definicije (in primere) matematiÄnih osnov kvantne mehanike,
ki jih potrebujemo za definicije Å¾elenih operacij nad kubiti.
% Te se nahajajo na prvih nekaj straneh.

\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}  % skrij oznake
\subsection*{Oznake:}
Skozi ta del bomo uporabljali naslednje oznake:
\begin{itemize}
    \item \( â„• = \{ 0, \dots \} \), \( â„•âº = \{ 1, \dots \} \), \( â„•â‚™ = \{ 0, \dots, 2â¿-1 \} \),
    \item \(n, m âˆˆ â„•âº\), ki mu bomo pravili Å¡tevilo kubitov,
    \item \(j, k, \dots âˆˆ â„•â‚™\),
    \item \(aâ±¼\) \(j\)-ta komponenta vektorja \(a\),
    \item \(j = jâ‚ \dots jâ‚™\) binarni zapis Å¡tevila \(j\).
    % \item \( \mb 0â¿ = 0\dots0, \mb 1â¿ = 1\dots1 \).
    % \item \( \mb n = \{ 0, \dots, n-1 \} \), na primer \( \mb 2 = \{ 0, 1 \} \).
    % \item \( \mathbb n = \{ 0, \dots, n-1 \} \), na primer \( \mathbb 2 = \{ 0, 1 \} \).
\end{itemize}
\addtocontents{toc}{\protect\setcounter{tocdepth}{2}}

\subsection{Kvantni biti}

KlasiÄni biti zavzamejo dve vrednosti: \(\mb{0}\) in \(\mb{1}\).
Te lahko posploÅ¡imo na kvantne bite (oziroma kubite) kot formalne kompleksne linearne kombinacije klasiÄnih stanj, t.j. vsak kubit \(q\) je oblike \(Î±\mb{0} + Î²\mb{1}\),
za \(Î±,Î² âˆˆ â„‚\), kjer nista oba 0. Å teviloma \(Î±\) in \(Î²\) pravimo amplitudi.
Tu \(\mb0\) in \(\mb1\) razumemo kot formalna simbola, ki predstavljata klasiÄni stanji.
V sploÅ¡nem stanje kubita ni odvisno od skalarnega veÄkratnika,
tako da kubita \(Î±\mb0 + Î²\mb1\) in \(Î±'\mb0 + Î²'\mb1\) predstavljata isto kvantno stanje
Äim obstaja kak neniÄelen \(Î³ âˆˆ â„‚\), tako da je \(Î± = Î³Î±'\) in \(Î² = Î³Î²'\).
Iz praktiÄnih razlogov se amplitude pogosto normalizira, torej jih pomnoÅ¾imo s takim skalarjem,
da velja \(|Î±|Â² + |Î²|Â² = c â‰¤ 1\), kjer za \(c\) ponavadi vzamemo kar \(1\).
Ta normalizacija nam amplitude Å¡e vedno ne definira enoliÄno;
\(Î±\) in \(Î²\) sta doloÄeni zgolj do mnoÅ¾enja s kompleksno enoto natanÄno.

Sledi, da klasiÄni stanji \(\mb0\) in \(\mb1\) identificiramo z baznima vektorjema prostora \(â„‚Â²\), \(eâ‚€\) in \(eâ‚\), te pa pogosto oznaÄujemo v t.i. \airquotes{ket} zapisu
kot \(\ket{0} â‰” eâ‚€\) in \(\ket{1} â‰” eâ‚\).
Za kvantna stanja, ki niso klasiÄna pravimo, da so kvantna superpozicija \(\ket0\) in \(\ket1\).

\subsection{Kvantni vektorji}

Ko Å¾elimo kubite posploÅ¡iti na kvantne vektorje, je naÅ¡ prvi instinkt, da vzamemo \(n\)-terice kubitov, vendar se izkaÅ¾e, da to ne ustreza fizikalnim pojavom.
Ampak vseeno nismo daleÄ od resnice, le da moramo namesto \(n\)-kratnega karteziÄnega produkta
vzeti \(n\)-kratni tenzorski produkt.

ZaÄnimo s toÄnimi definicijami vseh gornjih pojmov.

\begin{definition}\label{binv}
    Binarni vektorji so elementi prostora \( \B[n] â‰” \{ 0, 1 \}â¿ \) in jih piÅ¡emo kot nize v binarnem zapisu.
    % Za nas predstavljajo svet v katerem se odvijajo klasiÄni programi.
\end{definition}

\begin{example}
    Ko nize naÅ¡tevamo, jih ponavadi urejamo leksikografsko. V dveh dimenzijah so binarni vektorji sledeÄi: 
    \( \B[2] = \{\mb{00}, \mb{01}, \mb{10}, \mb{11}\} \).
\end{example}
\begin{remark}
    Niza \(\mb1\) in \(\mb{01}\) predstavljata razliÄna vektorja.
\end{remark}

\begin{definition}[Hilbertov prostor]\label{hilb-sp}
    Elementom prostora \( \H[n] â‰” â„‚^{2â¿} \) pravimo kvantni vektorji, elementom \(\H â‰” \H[1]\) pa kubiti.  Prostoru \(\H[n]\) torej pravimo prostor kvantnih vektorjev reda \(n\), njegovo standardno bazo pa oznaÄimo z \(\{eâ±¼\}â±¼\).
    % Tu se izvajajo kvantni programi.
\end{definition}

\begin{definition}[Ket notacija]\label{ket}
    Naj bo \(j âˆˆ â„•â‚™\), ter \( \hat{\jmath} âˆˆ \B[n] \) pripadajoÄ vektor v binarnem zapisu. Potem je \( \ket j = \ket{\hat{\jmath}} â‰” eâ±¼ \).
\end{definition}
\begin{remark}
    Po definiciji je torej \( \H[n] = \L[â„‚]{\set{\ket j}{j âˆˆ \B[n]}} \).
\end{remark}

\begin{definition}
    Stanje kubita \(q\) oznaÄimo z \(\state{q}\).
\end{definition}

Ker so kvantni vektorji zgolj vektorji, jih bomo pisali tudi kot vektorje.
Ekvivalenca med zapisoma je prikazana na naslednjih primerih:
\begin{example}[\( n = 1 \)]
    \[ a = \vec{aâ‚€, aâ‚}
         = aâ‚€\vec{1,0} + aâ‚\vec{0,1}
         = aâ‚€\ket{\mb0} + aâ‚\ket{\mb1}.
    \]
\end{example}
\begin{example}[\( n = 2 \)]
    \[ a = \vec{aâ‚€,  aâ‚,  aâ‚‚,  aâ‚ƒ}
         = \vec{aâ‚€â‚€, aâ‚€â‚, aâ‚â‚€, aâ‚â‚}
         = aâ‚€â‚€\ket{\mb{00}} + aâ‚€â‚\ket{\mb{01}} + aâ‚â‚€\ket{\mb{10}} + aâ‚â‚\ket{\mb{11}}.
    \]
\end{example}

\begin{example}[Hadamardov vektor]\label{had}
    Vektor, ki ima na vseh mestih enico (modulo skalarni veÄkratnik),
    se izkaÅ¾e za zelo pomembnega. Kasneje bomo videli, kakÅ¡ne raznolike uporabe ima, od vira nakljuÄnosti do bistva dokaza izreka o ne-kloniranju.
    \[ \hh â‰” Ï\vec{1,1} = Ï\p{\ket{\mb0} + \ket{\mb1}},\quad
        \hh[n] â‰” Ïâ¿âˆ‘_{j âˆˆ \B[n]} \ket j,\quad
        Ï â‰” \frac{1}{\sqrt2}.
    \]
\end{example}

\subsection{Blochova sfera}
Spomnimo se, da so stanja kubitov doloÄena zgolj do skalarja natanÄno, torej dejansko Å¾ivijo v projektivnem prostoru.  Formalno to zajamemo v naslednji trditvi:

\begin{proposition}
    V fiziÄnem svetu sta dva kubita, ki se razlikujeta zgolj za (kompleksen) faktor, enaka.
    MatematiÄno to pomeni, da stanja kubitov Å¾ivijo v \( \mathbf{P}â„‚Â¹ â‰… ð•ŠÂ² \) in jih lahko zapiÅ¡emo v naslednji obliki:
    % To pomeni, da lahko vsak kubit zapiÅ¡emo kot toÄko v \( \SÂ² \):
    \[ \state{a} = \state{\textstyle\cos\frac{Î¸}{2}\ket{\mb0}
                            + e^{iÏ†}\sin\frac{Î¸}{2}\ket{\mb1}},\quad
        Ï† âˆˆ [0, 2Ï€), Î¸ âˆˆ [0, Ï€]. \]
    Temu prostoru pravimo Blochova sfera.
\end{proposition}
\begin{proof}
    Naj bo \( a = aâ‚€\ket{\mb0} + aâ‚\ket{\mb1} = râ‚€e^{iÏ†â‚€}\ket{\mb0} + râ‚e^{iÏ†â‚}\ket{\mb1} \).
    ÄŒe oznaÄimo
    \[ r â‰” \sqrt{râ‚€Â² + râ‚Â²}\text{, }Ï† â‰” Ï†â‚ - Ï†â‚€\text{, }Î¸ â‰” 2\arccos{\frac{râ‚€}{r}}, \]
    je potem \[ \hat a â‰” \frac{a}{re^{iÏ†â‚€}} = \frac{râ‚€}{r}\ket{\mb0} + \frac{râ‚}{r}e^{iÏ†}\ket{\mb1} = \cos\frac{Î¸}{2}\ket{\mb0} + e^{iÏ†}\sin\frac{Î¸}{2}\ket{\mb1}\]
    in velja \(\{a\} = \{\hat a\}\) po konstrukciji.
\end{proof}

\begin{figure}[h]
\centering
\begin{tikzpicture}[baseline=(current bounding box.north)]
    % Define radius
    \def\r{7}
    
    % Bloch vector
    \draw  (   0,   0) node[circle, fill, inner sep=1                     ] (orig) {}
        -- (\r/6,\r/4) node[circle, fill, inner sep=0.7, label=above:\(a\)]    (a) {};
    \draw[dashed] (orig) -- (\r/6,-\r/10) node (phi) {} -- (a);
    
    % Sphere
    \draw                (orig) circle  (\r/2);
    \draw[dashed, gray]  (orig) ellipse (\r/2 and \r/6);
    
    % Axes
    \draw[->]            (orig) -- ++(-\r/10,-\r/6) node[below] (x) {\(x\)};
    \draw[->]            (orig) -- ++( \r/ 2,    0) node[right] (y) {\(y\)};
    \draw[->]            (orig) -- ++(     0, \r/2) node[above] (z) {\(z=\ket 0\)};
    \draw[->, draw=gray] (orig) -- ++(     0,-\r/2) node[below] (s) {\(\ket 1\)};
    
    %Angles
    % \draw[->, draw=gray] 
    % \draw[draw=gray,->] (orig) ellipse (\r/6 and \r/12) node {\(Ï†\)};
    \pic[draw=gray, ->, "\(Ï†\)", angle eccentricity=0.6] {angle=x--orig--phi};
    \pic[draw=gray, <-, "\(Î¸\)", angle eccentricity=1.4] {angle=a--orig--z};
\end{tikzpicture}
\caption{Blochova sfera}
\label{fig:bloch-sphere}
\end{figure}

\subsection{Tenzorski produkt}

\begin{definition}\label{tensorprod}
    Tenzorski produkt prostorov \(\H[n]\) in \(\H[m]\) je enak \(\H[n+m]\).
    PiÅ¡emo \(\H[n]âŠ—\H[m]\).
    % ÄŒe sta \(a âˆˆ \H[n]\) in \(b âˆˆ \H[m]\) je \(aâŠ—b âˆˆ \H[n]âŠ—\H[m]\).
\end{definition}
\begin{remark}
    Operator \(âŠ—\) je res tenzorski produkt.
\end{remark}

\begin{definition}
    Tenzorski produkt vektorjev \(a âˆˆ \H[n]\) in \(b âˆˆ \H[m]\) Å¾ivi v prostoru \(\H[n]âŠ—\H[m]\)
    in je enak \(aâŠ—b = \displaystyleâˆ‘_{\substack{j âˆˆ \B[n],\\k âˆˆ \B[m]}} aâ±¼bâ‚–\ket{j}âŠ—\ket{k}.\)
\end{definition}
\begin{example}[Tenzorski produkt baznih vektorjev]
    PiÅ¡emo ga lahko na razliÄne ekvivalentne naÄine:
    \[ \ket j âŠ— \ket k = \ket{jâ‚\dots jâ‚™kâ‚\dots kâ‚˜} = \ket j \ket k = \ket{jk}. \]
\end{example}
\begin{example}[\(n = m = 1\)]
    Naj bosta \(a, b âˆˆ \H\). Tedaj je \(aâŠ—b = aâ‚€bâ‚€\ket{\mb{00}} + aâ‚€bâ‚\ket{\mb{01}} + aâ‚bâ‚€\ket{\mb{10}} + aâ‚bâ‚\ket{\mb{11}}\). Kot vektor to napiÅ¡emo tako:
    \[ \vec{aâ‚€, aâ‚}âŠ—\vec{bâ‚€, bâ‚} = \vec{aâ‚€bâ‚€, aâ‚€bâ‚, aâ‚bâ‚€, aâ‚bâ‚}\]
\end{example}
\begin{examples}[Tenzorski eksponent]
    \begin{align*}
        &\hh[n] = \hh^{âŠ—n}
        = Ïâ¿\underbrace{(\ket{\mb0} + \ket{\mb1}) âŠ— â‹¯ âŠ— \p{\ket{\mb0} + \ket{\mb1}}}_n,\\
        &\H[n] = \H^{âŠ—n} = \underbrace{\H âŠ— â‹¯ âŠ— \H}_n.
    \end{align*}
\end{examples}

\begin{definition}
    ÄŒe lahko \(a âˆˆ \H[n]\) zapiÅ¡emo kot \( â¨‚_{j=1}^{n} aâ±¼ \) za neke \(aâ±¼ âˆˆ \H\) pravimo, da je enostaven ali separabilen, sicer je pa sestavljen oziroma kvantno prepleten.
\end{definition}

\begin{example}
    Vektor \(\ket{\mb{00}} + \ket{\mb{10}}\) je separabilen, saj je enak \(\p{\ket{\mb0} + \ket{\mb1}}âŠ—\ket{\mb0}\) in \(\ket{\mb{00}} + \ket{\mb{11}}\) je prepleten, saj ga ne moremo zapisati kot tenzorski produkt dveh kubitov. Res, Äe je \(aâ‚€bâ‚ = 0\) mora biti vsaj en izmed \(aâ‚€\) in \(bâ‚\) enak \(0\), vendar je to v nasprotju z eno od enaÄb \(aâ‚€bâ‚€ = aâ‚bâ‚ = 1\).
\end{example}

\subsection{Kvantne preslikave}

\begin{definition}%[Unitarna vrata]
    Prostor unitarnih vrat reda \(n\) je \( \U[n] â‰” \U{\p{2â¿}} \), prostor unitarnih \(2â¿Ã—2â¿\) matrik.
\end{definition}
\begin{definition}
    Tenzorski produkt vrat \( UâŠ—V â‰” [u_{jk}V]_{j,k} \) je obiÄajen Kroneckerjev produkt matrik.
    Produkt \(UâŠ—V\) uporabljen na \(aâŠ—b\) je enak \(UaâŠ—Vb\).
\end{definition}

\begin{example}[Tenzorski produkt unitarnih vrat]
    ÄŒe je \(A\) reda \(1\), zgleda tenzorski produkt \(AâŠ—B\) tako:
    \[ \bmat{aâ‚€â‚€ & aâ‚€â‚ \\ aâ‚â‚€ & aâ‚â‚}âŠ—B = \bmat{aâ‚€â‚€ B & aâ‚€â‚ B \\ aâ‚â‚€ B & aâ‚â‚ B}.
    \]
\end{example}

\begin{definition}%[BloÄno-diagonalna matrika]
    Za vrata \( Uâ‚, â€¦, Uâ‚› \) oznaÄimo njihovo bloÄno-diagnoalno matriko z \( D{\p{Uâ‚,â€¦,Uâ‚›}} \).
\end{definition}

\begin{theorem}[No cloning]\label{no-cloning}
    Ne obstajajo vrata reda \(2\), ki vsak vektor \( aâŠ—\ket{\mb0} âˆˆ \HâŠ—\H \) slika v \(aâŠ—a\).
\end{theorem}

\begin{proof}
    Naj bo \(U\) tak, da za vsak \(a âˆˆ \H\) velja \( U{\p{aâŠ—\ket{\mb0}}} = aâŠ—a \).
    Potem za \( \hhâŠ—\ket{\mb0} = Ï(\ket{\mb{00}} + \ket{\mb{10}}) \) po definiciji \(U\) velja
    \( U{\p{\hhâŠ—\ket{\mb0}}} = \hh[2]. \)
    Vendar, Äe upoÅ¡tevamo, da je \(U\) linearna lahko zapiÅ¡emo tudi
    \[ U{\p{Ï\p{\ket{\mb{00}} + \ket{\mb{10}}}}}
       = Ï\p{U\ket{\mb{00}} + U\ket{\mb{10}}} = Ï\p{\ket{\mb{00}} + \ket{\mb{11}}},\]
    % \[
    %     U{\p{Ï\p{\ket{\mb{00}} + \ket{\mb{10}}}}} =
    %     \begin{cases}
    %         ÏÂ²\p{\ket{\mb{00}} + \ket{\mb{01}} + \ket{\mb{10}} + \ket{\mb{11}}},\\
    %         Ï\p{U\ket{\mb{00}} + U\ket{\mb{10}}} = Ï\p{\ket{\mb{00}} + \ket{\mb{11}}},
    %     \end{cases}
    % \]
    kar je protislovje, saj \(Ï\p{\ket{\mb{00}} + \ket{\mb{11}}}\) ni separabilen.
\end{proof}

\begin{example}[Paulijeve matrike]
    To so matrike zrcaljenja okrog osi na Blochovi sferi:
    \[ Iâ‚‚ = \bmat{1 &  0 \\ 0 &  1},\quad
       X  = \bmat{0 &  1 \\ 1 &  0},\quad
       Y  = \bmat{0 & -i \\ i &  0},\quad
       Z  = \bmat{1 &  0 \\ 0 & -1}.
    \]
    Velja \(XÂ² = YÂ² = ZÂ² = Iâ‚‚\).
    Preslikavi \(X\) pravimo negacija,
    saj je \( X{\ket{\mb0}} = \ket{\mb1} \) in \( X{\ket{\mb1}} = \ket{\mb0} \).
\end{example}

\begin{example}[Hadamardova matrika]  %TODO: elaborate
    \[ \had = Ï\bmat{1&1\\1&-1},\quad
       \had\ket{\mb{0}} = \hh,\quad
       \had^{âŠ—n}\ket{\mb{0}â¿} = \hh[n].
    \]
\end{example}

% \[ \Qcircuit @C=1em @R=.7em {
%         & \gate{\had} & \gate{\g Z} & \gate{\had} & \qw\\
%         &             &      =      &             &    \\
%         & \qw         & \gate{\g X} & \qw         & \qw
%     }
% \]
% \begin{example}[Fazni zamik]
%     \begin{align*}
%         &S_Î± = \bmat{1&0\\0&e^{iÎ±}}
%         \text{, posebej oznaÄimo } S â‰” S_{\newfrac{Ï€}{2}}, T â‰” S_{\newfrac{Ï€}{4}}, \\
%         &S_Î±\p{aâ‚€\ket{\mb0} + aâ‚\ket{\mb1}} = aâ‚€\ket{\mb0} + aâ‚e^{iÎ±}\ket{\mb1}.
%     \end{align*}
% \end{example}

\subsection{Kvantna meritev}

V klasiÄnem raÄunalniÅ¡tvu poznamo pogojne stavke. To lahko na kubite posploÅ¡imo na dva naÄina,
prvi z direktno meritvijo kubita (in uporabo klasiÄnih pogojnih stavkov),
drugi pa z uporabo kvantne prepletenosti.
IzkaÅ¾e se, da Äe po vseh operacijah zmerimo kubite, se drugi naÄin obnaÅ¡a enako kot prvi.

\begin{definition}
    Meritev kubita \(a = a_0\ket{\mb0} + a_1\ket{\mb1}\) oznaÄimo \(M{\p{a}}\) in je \(0\) z verjetnostjo \(|aâ‚€|^2\) ter \(1\) z verjetnostjo \(|aâ‚|^2\).
    Po izvedeni meritvi, je \(a\) bodisi v stanju \(aâ‚€\ket{\mb0}\), bodisi v stanju \(aâ‚\ket{\mb1}\), odvisno od rezultata meritve.  Temu pravimo kolaps prepletenega stanja.
    V praksi to pomeni, da \(a\) po meritvi izgubi vse svoje kvantne lastnosti, tako da je ekvivalentno, Äe reÄemo, da se \(a\) kar uniÄi.
    V fizikalnih in matematiÄnih delih bomo uporabljali prvotno definicijo, v raÄunalniÅ¡kih delih pa definicijo z uniÄenjem.
    %To \airquotes{uniÄi} kubit \(a\).
    % \[ \Qcircuit @C=1em @R=.7em {
    %         & \meter & \cw %& & \ctrlo{1} & \ctrl{1} & \qw & & \ctrl{1} & \qw \\
    %         % &        &     & & \gate U & \gate V & \qw & & \targ & \qw
    %     }
    % \]
\end{definition}

\begin{proposition}
    V kvantnem raÄunalniÅ¡tvu je meritev definirana s kolapsom ekvivalentna meritvi definirani z uniÄenjem kubita.
\end{proposition}

Dokaz prepustimo za malo kasneje, ko definiramo orodja za kvantno raÄunalniÅ¡tvo.

\begin{definition}
    Naj \(Î±â‚–\) oznaÄujejo tiste amplitude, ki se nahajajo pred keti, ki imajo na \(j\)-tem mestu \(\mb{0}\), in \(Î²â‚–\) tiste, ki se nahajajo pred keti, ki imajo na \(j\)-tem mestu \(\mb{1}\).
    Meritev vektorja \(a\) na \(i\)-tem mestu oznaÄimo \(Máµ¢{\p{a}}\) in je \(0\) z verjetnostjo \(âˆ‘áµ¢|Î±áµ¢|Â²\) ter \(1\) z verjetnostjo \(âˆ‘áµ¢|Î²áµ¢|Â²\).
    Po meritvi bo \(a\) enak bodisi \(âˆ‘_{k = jâ‚â‹¯\mb0â‹¯jâ‚™} Î±â‚–\ket{k}\) bodisi \(âˆ‘_{k = jâ‚â‹¯\mb1â‹¯jâ‚™} Î²â‚–\ket{k}\).
\end{definition}

\begin{example}
    Naj bo \(a = Î±\ket{\mb{00}} + Î²\ket{\mb{01}} + Î³\ket{\mb{10}} + Î´\ket{\mb{11}}\), kjer so amplitude normalizirane na \(1\).
    Tedaj je rezultat \(Mâ‚{\p a}\) lahko sledeÄ:
    \begin{itemize}
        \item \(0\) z verjetnostjo \(|Î±|Â² + |Î²|Â²\) in \(a = Î±\ket{\mb{00}} + Î²\ket{\mb{01}}\),
        \item \(1\) z verjetnostjo \(|Î³|Â² + |Î´|Â²\) in \(a = Î³\ket{\mb{10}} + Î´\ket{\mb{11}}\).
    \end{itemize}
    ÄŒe namesto po prvem kubitu merimo po drugem, je rezultat sledeÄ:
    \begin{itemize}
        \item \(0\) z verjetnostjo \(|Î±|Â² + |Î³|Â²\) in \(a = Î±\ket{\mb{00}} + Î³\ket{\mb{10}}\),
        \item \(1\) z verjetnostjo \(|Î²|Â² + |Î´|Â²\) in \(a = Î²\ket{\mb{01}} + Î´\ket{\mb{11}}\).
    \end{itemize}
    ÄŒe po meritvi po prvem kubitu izvedemo Å¡e meritev po drugem, je rezultat sledeÄ:
    \begin{itemize}
        \item ÄŒe je bil \(Mâ‚{\p a} = 0\) oznaÄimo \(pâ‚€ = |Î±|Â² + |Î²|Â²\)
        \begin{itemize}
            \item z verjetnostjo \(pâ‚€â‚€ = \frac{|Î±|Â²}{|Î±|Â² + |Î²|Â²}\) je \(Mâ‚‚{\p a} = 0\) in \(a = Î±\ket{\mb{00}}\),
            \item z verjetnostjo \(pâ‚€â‚ = \frac{|Î²|Â²}{|Î±|Â² + |Î²|Â²}\) je \(Mâ‚‚{\p a} = 1\) in \(a = Î²\ket{\mb{01}}\).
        \end{itemize}
        \item ÄŒe je bil \(Mâ‚{\p a} = 1\) oznaÄimo \(pâ‚ = |Î³|Â² + |Î´|Â²\)
        \begin{itemize}
            \item z verjetnostjo \(pâ‚â‚€ = \frac{|Î³|Â²}{|Î³|Â² + |Î´|Â²}\) je \(Mâ‚‚{\p a} = 0\) in \(a = Î³\ket{\mb{10}}\),
            \item z verjetnostjo \(pâ‚â‚ = \frac{|Î´|Â²}{|Î³|Â² + |Î´|Â²}\) je \(Mâ‚‚{\p a} = 1\) in \(a = Î´\ket{\mb{11}}\).
        \end{itemize}
    \end{itemize}
    Skupaj je verjetnost, da na koncu izmerimo \(\ket{\mb{00}}\) enaka \(pâ‚€pâ‚€â‚€ = |Î±|Â²\), verjetnost, da izmerimo \(\ket{\mb{01}}\) je \(pâ‚€pâ‚€â‚ = |Î²|Â²\), itd.
    Omenili smo, da ponavadi normaliziramo na \(1\), vendar se izkaÅ¾e, da je bolj praktiÄno, Äe normaliziramo na skupno verjetnost, da pristanemo v tem stanju.
    Ena prednost tega pristopa je, da po meritvi ne rabimo normalizirati kubita.
\end{example}

\begin{convention}
    ÄŒe ne piÅ¡e drugaÄe naj bodo vektorji normalizirani kot piÅ¡e zgoraj.
\end{convention}

\begin{remark}
    ÄŒe meritev na vektorjih interpretiramo kot \airquotes{uniÄujoÄo}, potem preostanek vektorja po meritvi postane enak kot zgoraj, le da odstranimo izmerjeni \airquotes{kubit}.
    Na zgornjem primeru to zgleda kot \(a = Î±\ket{\mb{0}} + Î²\ket{\mb{1}}\) namesto \(Î±\ket{\mb{00}} + Î²\ket{\mb{01}}\), kjer \(a\) zdaj razumemo kot preostanek vektorja, ko mu odstranimo prvo komponento.
\end{remark}

\begin{definition}[Kontrola]
    Za \( r,s âˆˆ â„• \) in \( U âˆˆ \U[1] \) definiramo \( C_{r,s}{\p U} \) in \( \overline{C}_{r,s}{\p U} \) s predpisoma
    \begin{align*}
        C_{r,s}{\p U}\ket j &= \begin{cases}
            \ket j &;\quad jáµ£ = \mb0\\
            \ket{jâ‚\dots}\ket{U{jâ‚›}}\ket{\dots jâ‚™} &;\quad jáµ£ = \mb1
        \end{cases}\\
        \overline{C}_{r,s}{\p U}\ket j &= \begin{cases}
            \ket{jâ‚\dots}\ket{U{jâ‚›}}\ket{\dots jâ‚™} &;\quad jáµ£ = \mb0\\
            \ket j &;\quad jáµ£ = \mb1
        \end{cases}
    \end{align*}
    Takim vratom pravimo kontrolirana (\airquotes{na ena} in \airquotes{na niÄ}).
    Posebej za \( U âˆˆ \U[1] \) oznaÄimo
    \[ \ctl U â‰” C_{1,2}{\p U} = \D{Iâ‚‚, U},\quad
        \ctlo U â‰” \overline{C}_{1,2}{\p U} = \D{U, Iâ‚‚}. \]
\end{definition}

%TODO: give example

\begin{example}[Prepleteni pari kubitov]
    Kontrolirana vrata prepletejo pare kubitov. Na primer
    \( \eapply{\ctl X}{a, b} \) se obnaÅ¡a kot
    \qpl[breaklines]{if |\(\emeasure{a} = 0\)| then |\(\p{a, b}\)| else |\(\p{a, \lnot b}\)|}.
    Seveda vemo, da drugi izraz ni veljaven (ker meritev uniÄi kubit a),
    ampak je zato kontrola ravno tisto orodje, s katerim Å¾elimo nadomestiti pogojne stavke.
\end{example}

\subsection{Kvantna vezja}

Kvantne programe lahko predstavimo kot diagrame vezja, ki jih beremo od leve proti desni.
Po enojnih Å¾icah \airquotes{teÄejo} kubiti, po dvojnih pa klasiÄni biti.
Å katle (z imenom) predstavljajo uporabo unitarnih vrat na vhodnih kubitih.
Kontrolirana vrata imajo Å¡e piko in iz nje navpiÄno Ärto;
Äe je pika polna kontrolira \airquotes{na ena}, Äe je pa prazna pa \airquotes{na niÄ}.
Meritev bomo predstavili s Å¡katlo, ki ima v sebi \airquotes{merilec}.\cite{ess-qc}. %TODO: maybe expand

Spodaj sta dva primera kvantnih programov, opisana z besedami in diagrami, ki ju bomo sreÄali tudi Å¡e kasneje.

\begin{example}[Projekcija na \(z\)-os]\label{ex:proj-z}
    Najprej izmerimo \(a\) in nato glede na rezultat sveÅ¾ kubit bodisi negiramo bodisi ne.
    Na Blochovi sferi to zgleda pribliÅ¾no kot projekcija na \(z\)-os (edina kubita na \(z\)-osi sta \( \ket{\mb0} \) in \( \ket{\mb1} = X \ket{\mb0} \)).
    \[ \Qcircuit @C=1em @R=.7em {
            & \lstick{\ket{\mb0}} & \gate{\g X} & \rstick{b} \qw\\
            \lstick{a} & \meter & \cctrl{-1}
        }
    \]
\end{example}

\begin{example}[NakljuÄna rotacija faze]\label{ex:rand-ph-shift}
    Meritev Hadamardovega vektorja simulira praviÄen met kovanca,
    vrata \(Z\) pa rotirajo fazo, torej bomo v polovici primerov kubitu \(a\) rotirali fazo.
    \[ \Qcircuit @C=1em @R=.7em {
            \lstick{a} & \qw & \qw & \qw & \qw & \gate{\g Z} & \rstick{a}\qw\\
            && \lstick{\ket{\mb0}} & \gate{\had} & \meter & \cctrl{-1}
        }
    \]
\end{example}

Spomnimo se zdaj trditve o ekvivalenci definicij meritev:

\begin{proposition}
    V kvantnem raÄunalniÅ¡tvu je meritev definirana s kolapsom ekvivalentna meritvi definirani z uniÄenjem kubita.
\end{proposition}

\begin{proof}
    OÄitno je prva definicija moÄnejÅ¡a od druge, tako da moramo dokazati zgolj, da lahko iz druge definicije simuliramo obnaÅ¡anje prve.
    Ampak Äe pogledamo prvi primer zgoraj, projekcijo na \(z\)-os, je to natanko to, kar potrebujemo. Izmerimo kubit \(a\) in dobimo klasiÄni bit \(M{\p a}\), s katerim potem nov kubit nastavimo bodisi na \(\ket{\mb0}\) bodisi na \(\ket{\mb1}\), kar je pa natanko vrednost kubita \(a\) po meritvi v skladu s prvo definicijo.
\end{proof}

% TODO: move this to when i need it?
\subsection{ÄŒista in meÅ¡ana stanja}
Å e enkrat si oglejmo prvi primer zgoraj, projekcijo na \(z\)-os.
Stanje kubita pred projekcijo znamo napisati: \(\state{aâ‚€\ket{\mb0} + aâ‚\ket{\mb1}}\).
Ampak stanja kubita \(b\) na koncu pa ne. Kubit je namreÄ v tako imenovanem meÅ¡anem stanju med stanji \(\state{\ket{\mb0}}\) in \(\state{\ket{\mb1}}\). ZapiÅ¡imo to stanje torej kot \(|aâ‚€|Â²\state{\ket{\mb0}} + |aâ‚|Â²\state{\ket{\mb1}}\).

\begin{definition}
    Naj je za vsak \(i âˆˆ \{1,â€¦,m\}\) kvantni sistem z verjetnostjo \(Î»áµ¢\) v stanju \(\state{uáµ¢}\), kjer so \(uáµ¢\) enotski vektorji. To je diskretna verjetnostna porazdelitev, ki jo bomo pisali kot \(Î»â‚\state{uâ‚} + â‹¯ + Î»â‚˜\state{uâ‚˜}\). ÄŒe je \(m = 1\) takemu stanju pravimo Äisto stanje, sicer pa meÅ¡ano stanje.
    Stanjem \(\state{uáµ¢}\) pravili tudi Äiste komponente meÅ¡anega stanja.
\end{definition}
\begin{remark}
    Kvantni sistem je zgolj v enem stanju, tako da nam meÅ¡ana stanja dejansko najveÄ povejo o posameznem opazovalcu sistema in kaj on ve.
    ÄŒe ima sistem veÄ kot enega opazovalca, so lahko meÅ¡ana stanja vsakega opazovalca razliÄna.
\end{remark}

\begin{definition}
    Kvantna vrata lahko uporabimo tudi na meÅ¡anih stanjih,
    tako da jih uporabimo na vsaki Äisti komponenti posebej.
\end{definition}

\subsection{Gostotne matrike}

\begin{definition}
    Gostotna matrika je neniÄelna pozitivno semi-definitna hermitska matrika, ki ima sled manjÅ¡o ali enako \(1\).
\end{definition}

IzkaÅ¾e se, da lahko stanje poljubnega vektorja izrazimo z gostotnimi matrikami. Res, naj bo \(a\) nek normaliziran vektor.
Potem \(\state{a}\) dodelimo gostotno matriko \(aa^*\).
Opazimo, da je \(\tr{\p{aa^*}} = âˆ‘áµ¢|aáµ¢|Â² = c\), hkrati pa, Äe je \(Î³\) neka kompleksna enota \(\p{|Î³| = 1}\) je gostotna matrika \(\state{Î³a}\) enaka \(Î³\bar{Î³}aa^* = aa^*\), torej nam normalizacija gostotnih matrik enoliÄno doloÄi stanje vektorja.

\begin{example}
    Naj bo \(a = \frac{1}{\sqrt{2}}\p{\ket{\mb0} - \ket{\mb1}}\).
    Potem je gostotna matrika prirejena \(\state{a}\) enaka
    \[aa^* = \frac12\pmat{1&-1\\-1&1}\]
\end{example}

Oglejmo si sedaj meÅ¡ano stanje \(âˆ‘áµ¢Î»áµ¢\state{uáµ¢}\).
ÄŒe stanja \(\state{uáµ¢}\) zamenjamo z njihovimi gostotnimi matrikami dobimo matriko oblike \(Î»â‚uâ‚uâ‚^* + â‹¯ + Î»â‚˜uâ‚˜uâ‚˜^*\).
IzkaÅ¾e se, da je to spet gostotna matrika, saj je sled te matrike konveksna kombinacija Å¡tevil \(\tr{\p{uáµ¢uáµ¢^*}} â‰¤ 1\).

\begin{example}
    IzraÄunajmo gostotno matriko meÅ¡anega stanja \(\frac12\state{\ket{\mb0}}+\frac12\state{\ket{\mb1}}\):
    \[\frac12\pmat{1&0\\0&0} + \frac12\pmat{0&0\\0&1} = \frac12\pmat{1&0\\0&1}.\]
    Sedaj pa izraÄunajmo Å¡e gostotno matriko \(\textstyle\frac12\state{\frac{1}{\sqrt{2}}\p{\ket{\mb0} + \ket{\mb1}}} + \frac12\state{\frac{1}{\sqrt{2}}\p{\ket{\mb0} - \ket{\mb1}}}\):
    \[\frac14\pmat{1&1\\1&1} + \frac14\pmat{1&-1\\-1&1} = \frac12\pmat{1&0\\0&1}.\]
    Kljub temu, da sta meÅ¡ani stanji razliÄni, sta gostotni matriki enaki.
    Kot bomo videli malo kasneje, se izkaÅ¾e, da opazovalec ne more loÄiti med stanji, ki imajo enako gostotno matriko.
\end{example}

\begin{definition}
    Gostotna matrika je Äista, Äe je ranga \(1\).
\end{definition}

\begin{proposition}
    Vsaka Äista gostotna matrika predstavlja neko Äisto stanje.
\end{proposition}
\begin{proof}
    Naj bo \(A\) gostotna matrika. Ker je ranga \(1\) je oblike \(aa*\) za nek vektor \(a\), torej pripada stanju \(\state{a}\).
\end{proof}

\begin{proposition}
    Vsaki gostotni matriki pripada neko meÅ¡ano stanje.
\end{proposition}
\begin{proof}
    Naj bo \(A\) poljubna gostotna matrika.
    Ker je hermitska ima realne lastne vrednosti in ker je pozitivno semi-definitna so te lastne vrednosti nenegativne.
    Potem lahko \(A\) diagonaliziramo z \(UDU^*\), kjer je diagonalna matrika lastnih vrednosti \(Î»áµ¢\), \(U\) pa neka unitarna matrika.
    Sledi, da je \(A = âˆ‘áµ¢Î»áµ¢uáµ¢uáµ¢^*\), kjer je \(uáµ¢ = Ueáµ¢\).
    Lastne vrednosti so nenegativne, njihova vsota je pa enaka \(\tr{A} â‰¤ 1\), torej so ustrezne za koeficiente meÅ¡anega stanja \(âˆ‘áµ¢Î»áµ¢\state{uáµ¢}\).
\end{proof}

Zdaj, ko imamo karakterizacijo stanj z gostotnimi matrikami, bi Å¾eleli na njih tudi neposredno izvajati kvantne operacije.
Poznamo dve, in izkaÅ¾e se, da lahko obe definiramo na preprost naÄin.

\begin{definition}
    Naj bo \(a\) nek vektor in \(U\) kvantna vrata.
    Potem je gostotna matrika stanja \(\state{Ua}\) enaka \(Uaa^*U^*\),
    kar lahko linearno razÅ¡irimo tudi na meÅ¡ana stanja, torej lahko kvantna vrata na gostotni matriki uporabimo s predpisom \(A â†¦ UAU^*\).
\end{definition}

\begin{definition}
    Naj bo \(a\) nek vektor. Za preprostost definirajmo meritev le na prvem kubitu, saj je v sploÅ¡nem ideja enaka.
    Razdelimo vektor na zgornjo in spodnjo polovico, \(aâ‚€\) in \(aâ‚\).
    % Potem je \(aáµ¢ â‰” âˆ‘â±¼aáµ¢â±¼\ket{ij}\)
    Potem je gostotna matrika za \(a\) enaka \(\pmat{aâ‚€aâ‚€^*&aâ‚€aâ‚^*\\aâ‚aâ‚€^*&aâ‚aâ‚^*}\).
    Po meritvi na prvem mestu je \(a\) v stanju ene od polovic (dopolnjenih z niÄlami na koncu ali zaÄetku), gostotna matrika pa je enaka eni od \(\pmat{aâ‚€aâ‚€^*&0\\0&0}\) ali \(\pmat{0&0\\0&aâ‚aâ‚^*}\), odvisno od rezultata meritve.
    Opazimo, da je sled teh gostotnih matrik enaka verjetnosti, da ta gostotna matrika ustreza kolapsiranemu vektorju, torej lahko dogovor o normalizaciji uporabljamo tudi za gostotne matrike.
\end{definition}

Ker sta meritev in uporaba kvantnih vrat edini operaciji, ki jih lahko izvajamo na kubitih, in jih lahko izvajamo neposredno na gostotnih matrikah, to natanko pomeni, da Äe imata dve stanji enako gostotno matriko, ju ne moremo loÄiti.

